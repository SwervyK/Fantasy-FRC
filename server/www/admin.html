<!DOCTYPE html>
<html>
    <head>
        <title>Admin | Fantasy FRC</title>
        <link rel="stylesheet" href="./css/admin.css">
    </head>
    <body>
        <h1>Admin</h1>

        <button onclick="startDraft()">Start Draft</button>
        <br><br><br><br>
        <p id="result"></p>
        <p>Name</p>
        <input type='text' id='name' placeholder='Name' autocomplete='off'>
        <br>
        <p>Password</p>
        <input type='text' id='passw' placeholder='Password' autocomplete='off'>
        <br><br>
        <button onclick="addUser()">Add User</button>
        <script src="/socket.io/socket.io.js"></script>
        <script>
        var socket = io();
        const url = window.location.origin;

        function startDraft() {
            socket.emit("start_draft");
        }

        async function addUser() {
            input1 = document.getElementById("name");
            name = input1.value;
            input1.value = "";
            input2 = document.getElementById("passw");
            passw = input2.value;
            input2.value = "";
            await fetch(url+'/allow-cors/add-user?user="'+name+'"&passw="'+passw+'"', {mode:'cors'}).then(resp => {
                console.log(resp);
                document.getElementById("result").innerHTML = resp.status;
            });
        }
        </script>
    </body>
</html>